#!/usr/bin/python3

#
# Copyright (C) 2022 Nethesis S.r.l.
# SPDX-License-Identifier: GPL-2.0-only
#

from euci import EUci
from nextsec import firewall

u = EUci()
firewall.add_to_lan(u, 'tunrw')
ovpn_interface = firewall.add_vpn_interface(u, 'openvpnrw', 'tunrw')
ovpn_zone = firewall.add_trusted_zone(u, "openvpnrw", [ovpn_interface])
firewall.add_service(u, 'openvpnrw', '1194', 'udp')
firewall.apply(u)
